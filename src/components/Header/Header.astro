---
import { SITE } from '../../config';
import SkipToContent from './SkipToContent.astro';

const { currentPage } = Astro.props;

// Determine which tab is active based on the current page
const isDocsActive = !currentPage.startsWith('/release-log');
const isReleaseLogActive = currentPage.startsWith('/release-log');
---

<header class="p-3 bg-slate-100 bg-opacity-80 backdrop-blur-md border-b text-slate-900">
	<SkipToContent />
	<nav title="Top Navigation" class="max-w-7xl mx-auto flex justify-between items-center px-4">
		<div class="flex items-center gap-4">
			<!-- Mobile hamburger menu -->
			<button id="mobile-menu-btn" class="lg:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-200 rounded-md transition-colors">
				<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
				</svg>
			</button>
			
			<a class="text-xl font-medium flex items-center gap-3 display-font" href={import.meta.env.BASE_URL}>
				<h1>
					{SITE.title ?? "Documentation"}
				</h1>
			</a>
		</div>
		
		<!-- Tab Navigation -->
		<div class="flex rounded-lg p-1 uppercase translate-y-1">
			<a 
				href="/getting-started/introduction"
				class={`rounded-md text-sm font-medium px-3 py-1 cursor-pointer tracking-wide ${
					isDocsActive 
						? 'text-indigo-600' 
						: 'text-slate-600 hover:text-slate-900'
				}`}
			>
				Docs
			</a>
			<a 
				href="/release-log"
				class={`rounded-md text-sm font-medium px-3 py-1 cursor-pointer tracking-wide ${
					isReleaseLogActive 
						? 'text-indigo-600' 
						: 'text-slate-600 hover:text-slate-900'
				}`}
			>
				Release Log
			</a>
		</div>
		
		<div class="flex gap-2">
		
		{
			SITE.github &&
			(<a title="Github" class="opacity-80 hover:opacity-100 hover:bg-slate-200 p-2 rounded-full transition-colors" href={'https://github.com/'+SITE.github}>
				<img class="h-7" src={import.meta.env.BASE_URL + 'github.svg'} alt="github logo">
			</a>)
		}
		</div>
	</nav>
</header>

<script is:inline>
	// function toggleDarkMode() {
	// 	const body = document.body;
	// 	body.classList.toggle('dark');
	// 	console.log('dark mode toggled');
	// }
</script>
